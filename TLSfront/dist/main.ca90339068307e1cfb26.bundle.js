webpackJsonp([1],{0:function(l,n,e){l.exports=e("cDNt")},cDNt:function(l,n,e){"use strict";function t(l){return f._25(0,[(l()(),f._8(0,0,null,null,0,"i",[["class","fa fa-cog fa-spin"]],null,null,null,null,null))],null,null)}function u(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),f._24(-1,null,["Test System"]))],null,null)}function i(l){return f._25(0,[(l()(),f._8(0,0,null,null,0,"i",[["class","fa fa-sync fa-spin"]],null,null,null,null,null))],null,null)}function s(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),f._24(-1,null,["Capture Data"]))],null,null)}function r(l){return f._25(0,[(l()(),f._8(0,0,null,null,0,"i",[["class","fas fa-circle-notch fa-spin"]],null,null,null,null,null))],null,null)}function c(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),f._24(-1,null,["Save File"]))],null,null)}function o(l){return f._25(0,[(l()(),f._8(0,0,null,null,0,"i",[["class","fas fa-circle-notch fa-spin"]],null,null,null,null,null))],null,null)}function a(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),f._24(-1,null,["Download File"]))],null,null)}function g(l){return f._25(0,[(l()(),f._8(0,0,null,null,0,"i",[["class","fas fa-circle-notch fa-spin"]],null,null,null,null,null))],null,null)}function h(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),f._24(-1,null,["Clear Data"]))],null,null)}function _(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"h2",[["style","text-align:center"]],null,null,null,null,null)),(l()(),f._24(-1,null,["\n  Data collection from VLP16\n"])),(l()(),f._24(-1,null,["\n\n"])),(l()(),f._8(3,0,null,null,79,"div",[["class","btnContainer"]],null,null,null,null,null)),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(5,0,null,null,1,"div",[["style","text-align:center"]],null,null,null,null,null)),(l()(),f._24(-1,null,["File name (without extension):"])),(l()(),f._24(-1,null,["\n  "])),(l()(),f._8(8,0,null,null,5,"input",[["class","fileNameBox"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(l,n,e){var t=!0,u=l.component;if("input"===n){t=!1!==f._21(l,9)._handleInput(e.target.value)&&t}if("blur"===n){t=!1!==f._21(l,9).onTouched()&&t}if("compositionstart"===n){t=!1!==f._21(l,9)._compositionStart()&&t}if("compositionend"===n){t=!1!==f._21(l,9)._compositionEnd(e.target.value)&&t}if("ngModelChange"===n){t=!1!==(u.fileName=e)&&t}return t},null,null)),f._6(9,16384,null,0,m.b,[f.G,f.k,[2,m.a]],null,null),f._22(1024,null,m.d,function(l){return[l]},[m.b]),f._6(11,671744,null,0,m.g,[[8,null],[8,null],[8,null],[2,m.d]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),f._22(2048,null,m.e,null,[m.g]),f._6(13,16384,null,0,m.f,[m.e],null,null),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(15,0,null,null,7,"button",[["class","btn testBtn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.testConnection()&&t}return t},null,null)),(l()(),f._24(-1,null,["\n      "])),(l()(),f._2(16777216,null,null,1,null,t)),f._6(18,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n      "])),(l()(),f._2(16777216,null,null,1,null,u)),f._6(21,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n    "])),(l()(),f._24(-1,null,["\n  \n  "])),(l()(),f._8(24,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),f._24(25,null,["",""])),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(27,0,null,null,7,"button",[["class","btn getBtn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.captureFile()&&t}return t},null,null)),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,i)),f._6(30,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,s)),f._6(33,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n  "])),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(36,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),f._24(37,null,["",""])),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(39,0,null,null,1,"button",[["class","btn stopBtn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.stopCapture()&&t}return t},null,null)),(l()(),f._24(-1,null,["\n    Stop Capture\n  "])),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(42,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),f._8(43,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),f._24(-1,null,["\n  "])),(l()(),f._8(45,0,null,null,0,"div",[["class","spacer"]],null,null,null,null,null)),(l()(),f._24(-1,null,["\n  "])),(l()(),f._8(47,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(49,0,null,null,7,"button",[["class","btn saveBtn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.save()&&t}return t},null,null)),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,r)),f._6(52,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,c)),f._6(55,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n  "])),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(58,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),f._24(59,null,["",""])),(l()(),f._24(-1,null,["\n  \n  "])),(l()(),f._8(61,0,null,null,7,"button",[["class","btn downBtn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.download()&&t}return t},null,null)),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,o)),f._6(64,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,a)),f._6(67,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n  "])),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(70,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),f._24(-1,null,["\n  or\n  "])),(l()(),f._8(72,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),f._24(-1,null,["\n\n  "])),(l()(),f._8(74,0,null,null,7,"button",[["class","btn clearBtn"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,e){var t=!0,u=l.component;if("click"===n){t=!1!==u.clear(!0)&&t}return t},null,null)),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,g)),f._6(77,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n    "])),(l()(),f._2(16777216,null,null,1,null,h)),f._6(80,16384,null,0,w.c,[f.Q,f.N],{ngIf:[0,"ngIf"]},null),(l()(),f._24(-1,null,["\n  "])),(l()(),f._24(-1,null,["\n"]))],function(l,n){var e=n.component;l(n,11,0,e.getChecker.unsaved||e.saving,e.fileName),l(n,18,0,e.testChecker.loading),l(n,21,0,!e.testChecker.loading),l(n,30,0,e.getChecker.loading),l(n,33,0,!e.getChecker.loading),l(n,52,0,e.getChecker.loading||e.saving),l(n,55,0,!e.getChecker.loading&&!e.saving),l(n,64,0,e.getChecker.loading),l(n,67,0,!e.getChecker.loading),l(n,77,0,e.getChecker.loading),l(n,80,0,!e.getChecker.loading)},function(l,n){var e=n.component;l(n,8,0,f._21(n,13).ngClassUntouched,f._21(n,13).ngClassTouched,f._21(n,13).ngClassPristine,f._21(n,13).ngClassDirty,f._21(n,13).ngClassValid,f._21(n,13).ngClassInvalid,f._21(n,13).ngClassPending),l(n,15,0,e.testChecker.loading||e.getChecker.loading||e.saving),l(n,24,0,f._11(1,"msg ",e.testChecker.class,"")),l(n,25,0,e.testChecker.msg),l(n,27,0,e.getChecker.loading||e.getChecker.finished||e.saving),l(n,36,0,f._11(1,"msg ",e.getChecker.class,"")),l(n,37,0,e.getChecker.msg),l(n,39,0,!e.getChecker.loading||!e.getChecker.msg||e.saving),l(n,49,0,!e.getChecker.finished||!e.driveChecker.available||e.saving),l(n,58,0,f._11(1,"msg ",e.driveChecker.class,"")),l(n,59,0,e.driveChecker.msg),l(n,61,0,!e.getChecker.finished||e.saving),l(n,74,0,!e.getChecker.finished||e.saving)})}function d(l){return f._25(0,[(l()(),f._8(0,0,null,null,1,"app-root",[],null,null,null,_,N)),f._6(1,114688,null,0,v,[C.c],null,null)],function(l,n){l(n,1,0)},null)}Object.defineProperty(n,"__esModule",{value:!0});var f=e("/oeL"),k={production:!0},p=function(){function l(){}return l}(),C=e("XKz0"),v=function(){function l(l){this.http=l,this.fileName="",this.fileLink="",this.serverAddress="",this.saving=!1,this.ajaxHeader=new C.g({"Content-Type":"application/json"}),this.testChecker={loading:!1},this.getChecker={loading:!1,finished:!1},this.driveChecker={msg:"",class:"",available:!1};var n=window.location.href.split(":")[1],e=n.length;"/"==n[e-1]&&(n=n.substring(0,e-1)),this.serverAddress="http:"+n+":5001/",console.log("flask: ",this.serverAddress)}return l.prototype.testConnection=function(){var l=this,n=this.serverAddress+"check";this.testChecker.loading=!0,this.http.get(n,{headers:this.ajaxHeader,responseType:"json"}).subscribe(function(n){n?(l.testChecker.msg="Working well!",l.testChecker.class="workMsg"):(l.testChecker.msg="Not working, try reconnecting the cables.",l.testChecker.class="failMsg"),l.testChecker.loading=!1},function(n){l.testChecker.loading=!1,l.testChecker.msg="Something went wrong, check the pi.",l.testChecker.class="failMsg"})},l.prototype.captureFile=function(){var l=this;if(""==this.fileName)return this.getChecker.msg="Provide a file name.",void(this.getChecker.class="failMsg");this.getChecker.msg="";var n=this.serverAddress+"create";this.getChecker.loading=!0,this.getChecker.finished=!1,this.getChecker.unsaved=!0,this.http.post(n,{name:this.fileName},{headers:this.ajaxHeader,responseType:"json"}).subscribe(function(n){console.log("flash file: ",typeof n),n&&"number"==typeof n?(l.getChecker.msg="0 s",l.getChecker.class="workMsg",l.startNow=Date.now(),l.setMonitor()):"string"==typeof n?(l.getChecker.msg=n,l.getChecker.class="failMsg",l.getChecker.loading=!1,l.getChecker.unsaved=!1):(l.getChecker.msg="No data streaming, check connections.",l.getChecker.class="failMsg",l.getChecker.loading=!1,l.getChecker.unsaved=!1)},function(n){l.getChecker.msg="Something went wrong, check the pi.",l.getChecker.class="failMsg",l.getChecker.loading=!1,l.getChecker.unsaved=!1})},l.prototype.stopCapture=function(){var l=this,n=this.serverAddress+"kill";clearInterval(this.counter),this.http.get(n,{headers:this.ajaxHeader,responseType:"json"}).subscribe(function(n){l.fileLink=l.serverAddress+"download/"+l.fileName+".pcap",l.getChecker.finished=!0,l.getChecker.loading=!1},function(n){l.getChecker.finished=!1,l.getChecker.loading=!1})},l.prototype.save=function(){var l=this,n=this.serverAddress+"save";this.saving=!0,this.http.post(n,{name:this.fileName},{headers:this.ajaxHeader,responseType:"json"}).subscribe(function(n){l.driveChecker.msg="number"==typeof n?n.toFixed(2)+" GB free":"",l.clear(),l.saving=!1})},l.prototype.download=function(){window.location.href=this.fileLink,this.driveChecker.available&&this.save()},l.prototype.clear=function(l){void 0===l&&(l=!1),this.testChecker={loading:!1},this.getChecker={loading:!1,finished:!1},this.startNow=0,l&&(this.fileName="",this.fileLink="")},l.prototype.setMonitor=function(){var l=this;this.counter=setInterval(function(){if(l.startNow){var n=l.serverAddress+"monitor";l.http.post(n,{name:l.fileName},{headers:l.ajaxHeader,responseType:"json"}).subscribe(function(n){if(n){var e=parseInt(n)/1024/1024,t=(Date.now()-l.startNow)/1e3;l.getChecker.msg=t.toFixed(0)+" s, "+e.toFixed(0)+" MB",l.getChecker.class="workMsg"}else l.getChecker.msg="No data streaming, check connections.",l.getChecker.class="failMsg",l.getChecker.loading=!1,l.getChecker.unsaved=!1},function(n){l.getChecker.msg="Something went wrong, check the pi.",l.getChecker.class="failMsg",l.getChecker.loading=!1,l.getChecker.unsaved=!1})}},3e3)},l.prototype.checkFlashDrive=function(){var l=this,n=this.serverAddress+"check_drive";this.http.get(n,{headers:this.ajaxHeader,responseType:"json"}).subscribe(function(n){n?(l.driveChecker.msg=n.toFixed(2)+" GB free",l.driveChecker.class="workMsg",l.driveChecker.available=!0):(l.driveChecker.msg="No flash drive available.",l.driveChecker.class="failMsg",l.driveChecker.available=!1)},function(n){l.driveChecker.msg="Something went wrong, check the pi.",l.driveChecker.class="failMsg",l.driveChecker.available=!1})},l.prototype.ngOnInit=function(){this.checkFlashDrive()},l.ctorParameters=function(){return[{type:C.c}]},l}(),b=[".fileNameBox[_ngcontent-%COMP%]{height:100px;width:60%;margin-bottom:20px;margin-top:10px;font-size:36px;border:.5px solid #000}.btnContainer[_ngcontent-%COMP%], .fileNameBox[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{margin:10px;height:150px;width:70%;font-size:36px}.testBtn[_ngcontent-%COMP%]{background-color:rgba(42,148,190,.808)}.getBtn[_ngcontent-%COMP%]{background-color:rgba(0,128,0,.794)}.clearBtn[_ngcontent-%COMP%]{background-color:rgba(255,60,30,.705)}.downBtn[_ngcontent-%COMP%]{background-color:rgba(255,94,0,.705)}.saveBtn[_ngcontent-%COMP%]{background-color:rgba(180,180,0,.705)}.stopBtn[_ngcontent-%COMP%]{background-color:rgba(212,32,32,.829)}.workMsg[_ngcontent-%COMP%]{color:blue}.failMsg[_ngcontent-%COMP%]{color:red}.spacer[_ngcontent-%COMP%]{width:60%;margin-left:20%;height:2px;border:1px solid #000;background-color:#000}"],m=e("bm2B"),w=e("qbdv"),M=[b],N=f._5({encapsulation:0,styles:M,data:{}}),y=f._3("app-root",v,d,{},{},[]),x=e("fc+i"),I=f._4(p,[v],function(l){return f._19([f._20(512,f.i,f._0,[[8,[y]],[3,f.i],f.x]),f._20(5120,f.v,f._18,[[3,f.v]]),f._20(4608,w.e,w.d,[f.v]),f._20(4608,f.h,f.h,[]),f._20(5120,f.a,f._9,[]),f._20(5120,f.t,f._15,[]),f._20(5120,f.u,f._16,[]),f._20(4608,x.b,x.s,[w.b]),f._20(6144,f.J,null,[x.b]),f._20(4608,x.e,x.f,[]),f._20(5120,x.c,function(l,n,e,t){return[new x.k(l),new x.o(n),new x.n(e,t)]},[w.b,w.b,w.b,x.e]),f._20(4608,x.d,x.d,[x.c,f.z]),f._20(135680,x.m,x.m,[w.b]),f._20(4608,x.l,x.l,[x.d,x.m]),f._20(6144,f.H,null,[x.l]),f._20(6144,x.p,null,[x.m]),f._20(4608,f.O,f.O,[f.z]),f._20(4608,x.g,x.g,[w.b]),f._20(4608,x.i,x.i,[w.b]),f._20(4608,m.i,m.i,[]),f._20(4608,C.i,C.n,[w.b,f.C,C.l]),f._20(4608,C.o,C.o,[C.i,C.m]),f._20(5120,C.a,function(l){return[l]},[C.o]),f._20(4608,C.k,C.k,[]),f._20(6144,C.j,null,[C.k]),f._20(4608,C.h,C.h,[C.j]),f._20(6144,C.b,null,[C.h]),f._20(5120,C.f,C.p,[C.b,[2,C.a]]),f._20(4608,C.c,C.c,[C.f]),f._20(512,w.a,w.a,[]),f._20(1024,f.l,x.q,[]),f._20(1024,f.b,function(l,n){return[x.r(l,n)]},[[2,x.h],[2,f.y]]),f._20(512,f.c,f.c,[[2,f.b]]),f._20(131584,f._7,f._7,[f.z,f._1,f.r,f.l,f.i,f.c]),f._20(2048,f.e,null,[f._7]),f._20(512,f.d,f.d,[f.e]),f._20(512,x.a,x.a,[[3,x.a]]),f._20(512,m.h,m.h,[]),f._20(512,m.c,m.c,[]),f._20(512,C.e,C.e,[]),f._20(512,C.d,C.d,[]),f._20(512,p,p,[]),f._20(256,C.l,"XSRF-TOKEN",[]),f._20(256,C.m,"X-XSRF-TOKEN",[])])});k.production&&Object(f.U)(),Object(x.j)().bootstrapModuleFactory(I).catch(function(l){return console.log(l)})},gFIY:function(l,n){function e(l){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+l+"'.")})}e.keys=function(){return[]},e.resolve=e,l.exports=e,e.id="gFIY"}},[0]);